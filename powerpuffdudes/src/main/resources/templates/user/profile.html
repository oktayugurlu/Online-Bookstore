<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>BoomBook | Profile</title>

  <meta charset="utf-8">
  <!--[if IE]><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'><![endif]-->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="">
  
  <!-- Google Fonts -->
  <link href='http://fonts.googleapis.com/css?family=Maven+Pro:400,700%7CRaleway:300,400,700%7CPlayfair+Display:700' rel='stylesheet'>

  <!-- Css -->

    <link th:href="@{/user/css/sidenavbar.css}" rel="stylesheet">
    <link th:href="@{/user/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/user/css/font-icons.css}" rel="stylesheet">
    <link th:href="@{/user/css/style.css}" rel="stylesheet">
   <!--  <link th:href="@{/user/css/animate.min.css}" rel="stylesheet"> -->
  <!-- Favicons -->
    <link th:href="@{/user/img/favicon.ico}" rel="shortcut icon">
    <link th:href="@{/user/img/apple-touch-icon.png}" rel="apple-touch-icon">
    <link th:href="@{/user/img/apple-touch-icon-72x72.png}" sizes="72x72" rel="apple-touch-icon">
    <link th:href="@{/user/img/apple-touch-icon-114x114.png}" sizes="114x114" rel="apple-touch-icon">

</head>

<body>

<div th:insert="user/user-panel-navbar :: user-panel-navbar"></div>

<div class="content">

    <div class="page-content" style="height: 100%;margin-top: 50px;margin-left: 20px;" >

      <div class="text-center"> <h1>Profile</h1> </div>  
      <br>
      <br>
      
        <div class="container" >
                  <div class="text-center">
                  <div class="row">


            <div class="col-sm-6">
                      
                    
                <div class="card" style=" border-style: solid;
                border-width: 1px;border-color:rgba(242, 103, 34, 0.5);padding: 15px 8px 15px 8px;">

                  <h3 class="card-header info-color white-text text-center py-4" >
                      Manage Information
                  </h3>
                  <br><br>
                  <!--Card content-->
                  <div class="card-body px-lg-5">

                      <!-- Form -->
                      <form class="text-center"  th:action="@{/user/updateInformation}" th:object="${updateUserInfoForm}"  style="color: #757575;"  method="post" >

                        <div class="alert alert-warning" role="alert">
                          Let us remind you can not manipulate your email cause by security reasons
                            <br> <hr> <br>
                            Please write phone number with given format (XXXX XXX XX XX)
                        </div>

                          <br>

                          <!-- Name -->
                          <div class="md-form mt-3">
                              <label for="materialSubscriptionFormName">Name & Surname</label>
                              <input type="text" id="materialSubscriptionFormName"  th:field="*{name}" placeholder="Type up your name!" class="form-control" required>
                              
                          </div>


                          <div class="md-form">
                              <label for="materialSubscriptionFormPhone">Phone Number</label>
                              <input type="text" id="materialSubscriptionFormPhone"   th:field="*{phone}"  pattern="[0-9]{4} [0-9]{3} [0-9]{2} [0-9]{2}" placeholder="write phone with XXXX XXX XX XX format" class="form-control" required>

                            
                          </div>

                          <div class="md-form">
                            <label for="materialSubscriptionFormAddress">Address</label>
                            <input type="text" id="materialSubscriptionFormAddress"  th:field="*{address}" class="form-control" placeholder="Type up your address" required>
                          
                        </div>


                  <button class="btn btn-outline-info btn-rounded btn-block z-depth-0 my-4 waves-effect" style="left:25%;width: 50%;" type="submit"  >Submit Changes</button>

              </form>
                    <br> <br>

                      <div th:if="${currentManageStatus.isManageInvalidField()} ">

                          <div class="alert alert-danger alert-dismissible" role="alert">
                              Wrong Credentials Please enter valid characters.
                              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                  <span aria-hidden="true">&times;</span>
                              </button>
                          </div>
                      </div>
                      <div th:if="${currentManageStatus.isManageSuccess()} ">

                          <div class="alert alert-success alert-dismissible" role="alert">
                              Your information updated successfuly !
                              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                  <span aria-hidden="true">&times;</span>
                              </button>
                          </div>
                      </div>
              </div>

            </div>
                  
            </div>

              <div class="col-sm-6">
                   
                <div class="card"  style=" border-style: solid;
                border-width: 1px;border-color:rgba(242, 103, 34, 0.5);padding: 15px 8px 15px 8px;">

                  <h3 class="card-header info-color white-text text-center py-4" style="border: #F26722" >
                      Change Password
                  </h3>
                  <br><br>
                  <!--Card content-->
                  <div class="card-body px-lg-5">

                      <!-- Form -->
                      <form class="text-center"  th:action="@{/user/updatePassword}" th:object="${userUpdatePasswordForm}" style="color: #757575;" method="post" >
                        <div class="alert alert-warning" role="alert">
                          Please don't use any whitespaces in password.
                        </div>
                          <br>
                          <!-- Name -->
                          <div class="md-form mt-3">
                              <label for="materialSubscriptioncurrent">Current Password</label>
                              <input type="password" id="materialSubscriptioncurrent"  th:field="*{currentPassword}" placeholder="Enter your current password" class="form-control" required>
                              
                          </div>

                          <div class="md-form">
                              <label for="pw1">New Password</label>
                              <input type="password" id="pw1"  th:field="*{newPassword}"  placeholder="Enter your new password" class="form-control" required>
                            
                          </div>

                          <div class="md-form">
                            <label for="pw2">New Password Again</label>
                            <input type="password" id="pw2"  th:field="*{newPasswordRepeat}" placeholder="Enter your new password again" class="form-control" required>
                          
                        </div>


                  <button class="btn btn-outline-info btn-rounded btn-block z-depth-0 my-4 waves-effect" style="left:25%;width: 50%;" type="submit">Change Password</button>

              </form>

                      <br> <br>

                      <div th:if="${currentManageStatus.isPasswordSuccess()} ">

                          <div class="alert alert-success alert-dismissible" role="alert">
                              Your password updated successfuly !
                              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                  <span aria-hidden="true">&times;</span>
                              </button>
                          </div>
                      </div>
                      <div th:if="${currentManageStatus.isPasswordInvalidField()} ">

                          <div class="alert alert-danger alert-dismissible" role="alert">
                              A password can not contain whitespaces
                              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                  <span aria-hidden="true">&times;</span>
                              </button>
                          </div>
                      </div>
                      <div th:if="${currentManageStatus.isPasswordWrongPassword()} ">

                          <div class="alert alert-danger alert-dismissible" role="alert">
                              The given current password is wrong. Please try again
                              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                  <span aria-hidden="true">&times;</span>
                              </button>
                          </div>
                      </div>



              </div>

            </div>

                    </div>
                   
                   
                </div>

            </div>



        </div>
              
    
    </div>

</div>

<script>


  const password = document.getElementById("pw1")
          , confirm_password = document.getElementById("pw2");

  function validatePassword(){
    if(password.value !== confirm_password.value) {
      confirm_password.setCustomValidity("Passwords Don't Match");
    } else {
      confirm_password.setCustomValidity('');
    }
  }

  password.onchange = validatePassword;
  confirm_password.onkeyup = validatePassword;

</script>

  <!-- jQuery Scripts -->
  <script type="text/javascript" th:src="@{/user/js/jquery.min.js}"></script>
  <script type="text/javascript" th:src="@{/user/js/bootstrap.min.js}"></script>
  <script type="text/javascript" th:src="@{/user/js/plugins.js}"></script>
  <script type="text/javascript" th:src="@{/user/js/scripts.js}"></script>
    
</body>
</html>